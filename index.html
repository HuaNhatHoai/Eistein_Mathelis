<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CÃ¢u Äá»‘ Einstein - 5 NgÃ´i NhÃ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .house {
            transition: all 0.3s ease;
        }
        .house:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .draggable {
            cursor: grab;
            transition: all 0.2s ease;
        }
        .draggable:hover {
            transform: scale(1.05);
        }
        .draggable.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }
        .drop-zone {
            min-height: 40px;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .drop-zone.drag-over {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .clue {
            transition: all 0.3s ease;
        }
        .clue:hover {
            background-color: #f1f5f9;
            transform: translateX(5px);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-4">
    <div class="max-w-7xl mx-auto">
        <!-- Login Screen -->
        <div id="loginScreen" class="text-center">
            <div class="bg-white rounded-lg shadow-xl p-8 max-w-md mx-auto">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">ğŸ  CÃ¢u Ä‘á»‘ Einstein-Mathelis</h1>
                <p class="text-lg text-gray-600 mb-1">Mathletica: Äá»‘ vui khÃ´ng thÆ°á»Ÿng #2</p>
                <p class="text-sm text-gray-500 mb-6">KÃ©o tháº£ cÃ¡c thuá»™c tÃ­nh vÃ o Ä‘Ãºng ngÃ´i nhÃ  Ä‘á»ƒ giáº£i cÃ¢u Ä‘á»‘!</p>
                
                <div class="mb-6">
                    <label for="playerName" class="block text-sm font-medium text-gray-700 mb-2">Nháº­p tÃªn cá»§a báº¡n:</label>
                    <input type="text" id="playerName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="TÃªn cá»§a báº¡n...">
                </div>
                
                <button id="startGame" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                    ğŸš€ Báº¯t Ä‘áº§u chÆ¡i
                </button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="hidden">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">ğŸ  CÃ¢u Ä‘á»‘ Einstein-Mathelis</h1>
                <p class="text-lg text-gray-600">Mathletica: Äá»‘ vui khÃ´ng thÆ°á»Ÿng #2</p>
                <p class="text-sm text-gray-500 mt-1">ChÃ o <span id="playerNameDisplay" class="font-semibold text-blue-600"></span>! KÃ©o tháº£ cÃ¡c thuá»™c tÃ­nh vÃ o Ä‘Ãºng ngÃ´i nhÃ  Ä‘á»ƒ giáº£i cÃ¢u Ä‘á»‘!</p>
                <div class="mt-4 bg-white rounded-lg shadow p-4 inline-block">
                    <div class="text-lg font-semibold text-gray-700">â±ï¸ Thá»i gian: <span id="timer" class="text-blue-600">00:00</span></div>
                </div>
            </div>

        <!-- Houses -->
        <div class="space-y-4 mb-8">
            <!-- House 1 -->
            <div class="house bg-slate-100 rounded-lg shadow-lg p-6 border-4 border-slate-400" data-house="1">
                <div class="flex items-center gap-6">
                    <div class="text-center">
                        <div class="text-6xl mb-2 font-bold text-slate-700">1</div>
                        <div class="font-bold text-slate-800 text-lg">NhÃ  sá»‘ 1</div>
                        <div class="flex justify-center gap-2 mt-2 min-h-[32px]" id="icons-1">
                            <span class="pet-icon text-2xl" style="display: none;"></span>
                            <span class="drink-icon text-2xl" style="display: none;"></span>
                            <span class="job-icon text-2xl" style="display: none;"></span>
                        </div>
                    </div>
                    <div class="grid grid-cols-5 gap-4 flex-1">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">MÃ u sáº¯c</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="1" data-type="color">
                                <option value="">Chá»n...</option>
                                <option value="VÃ ng">ğŸŸ¡ VÃ ng</option>
                                <option value="Xanh dÆ°Æ¡ng">ğŸ”µ Xanh dÆ°Æ¡ng</option>
                                <option value="Äá»">ğŸ”´ Äá»</option>
                                <option value="Tráº¯ng">âšª Tráº¯ng</option>
                                <option value="Xanh lÃ¡">ğŸŸ¢ Xanh lÃ¡</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Quá»‘c tá»‹ch</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="1" data-type="nationality">
                                <option value="">Chá»n...</option>
                                <option value="Anh">ğŸ‡¬ğŸ‡§ Anh</option>
                                <option value="TÃ¢y Ban Nha">ğŸ‡ªğŸ‡¸ TÃ¢y Ban Nha</option>
                                <option value="Ukraine">ğŸ‡ºğŸ‡¦ Ukraine</option>
                                <option value="Na Uy">ğŸ‡³ğŸ‡´ Na Uy</option>
                                <option value="Nháº­t">ğŸ‡¯ğŸ‡µ Nháº­t</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">ThÃº cÆ°ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="1" data-type="pet">
                                <option value="">Chá»n...</option>
                                <option value="ChÃ³">ğŸ• ChÃ³</option>
                                <option value="á»c sÃªn">ğŸŒ á»c sÃªn</option>
                                <option value="CÃ¡o">ğŸ¦Š CÃ¡o</option>
                                <option value="Ngá»±a">ğŸ Ngá»±a</option>
                                <option value="Ngá»±a váº±n">ğŸ¦“ Ngá»±a váº±n</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Äá»“ uá»‘ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="1" data-type="drink">
                                <option value="">Chá»n...</option>
                                <option value="CÃ  phÃª">â˜• CÃ  phÃª</option>
                                <option value="TrÃ ">ğŸµ TrÃ </option>
                                <option value="Sá»¯a">ğŸ¥› Sá»¯a</option>
                                <option value="NÆ°á»›c cam">ğŸŠ NÆ°á»›c cam</option>
                                <option value="NÆ°á»›c">ğŸ’§ NÆ°á»›c</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Nghá» nghiá»‡p</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="1" data-type="job">
                                <option value="">Chá»n...</option>
                                <option value="Thá»£ má»™c">ğŸ”¨ Thá»£ má»™c</option>
                                <option value="GiÃ¡o viÃªn">ğŸ‘¨â€ğŸ« GiÃ¡o viÃªn</option>
                                <option value="LÃ m vÆ°á»n">ğŸŒ± LÃ m vÆ°á»n</option>
                                <option value="BÃ¡c sÄ©">ğŸ‘¨â€âš•ï¸ BÃ¡c sÄ©</option>
                                <option value="Thá»£ lÃ m bÃ¡nh">ğŸ‘¨â€ğŸ³ Thá»£ lÃ m bÃ¡nh</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- House 2 -->
            <div class="house bg-slate-100 rounded-lg shadow-lg p-6 border-4 border-slate-400" data-house="2">
                <div class="flex items-center gap-6">
                    <div class="text-center">
                        <div class="text-6xl mb-2 font-bold text-slate-700">2</div>
                        <div class="font-bold text-slate-800 text-lg">NhÃ  sá»‘ 2</div>
                        <div class="flex justify-center gap-2 mt-2 min-h-[32px]" id="icons-2">
                            <span class="pet-icon text-2xl" style="display: none;"></span>
                            <span class="drink-icon text-2xl" style="display: none;"></span>
                            <span class="job-icon text-2xl" style="display: none;"></span>
                        </div>
                    </div>
                    <div class="grid grid-cols-5 gap-4 flex-1">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">MÃ u sáº¯c</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="2" data-type="color">
                                <option value="">Chá»n...</option>
                                <option value="VÃ ng">ğŸŸ¡ VÃ ng</option>
                                <option value="Xanh dÆ°Æ¡ng">ğŸ”µ Xanh dÆ°Æ¡ng</option>
                                <option value="Äá»">ğŸ”´ Äá»</option>
                                <option value="Tráº¯ng">âšª Tráº¯ng</option>
                                <option value="Xanh lÃ¡">ğŸŸ¢ Xanh lÃ¡</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Quá»‘c tá»‹ch</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="2" data-type="nationality">
                                <option value="">Chá»n...</option>
                                <option value="Anh">ğŸ‡¬ğŸ‡§ Anh</option>
                                <option value="TÃ¢y Ban Nha">ğŸ‡ªğŸ‡¸ TÃ¢y Ban Nha</option>
                                <option value="Ukraine">ğŸ‡ºğŸ‡¦ Ukraine</option>
                                <option value="Na Uy">ğŸ‡³ğŸ‡´ Na Uy</option>
                                <option value="Nháº­t">ğŸ‡¯ğŸ‡µ Nháº­t</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">ThÃº cÆ°ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="2" data-type="pet">
                                <option value="">Chá»n...</option>
                                <option value="ChÃ³">ğŸ• ChÃ³</option>
                                <option value="á»c sÃªn">ğŸŒ á»c sÃªn</option>
                                <option value="CÃ¡o">ğŸ¦Š CÃ¡o</option>
                                <option value="Ngá»±a">ğŸ Ngá»±a</option>
                                <option value="Ngá»±a váº±n">ğŸ¦“ Ngá»±a váº±n</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Äá»“ uá»‘ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="2" data-type="drink">
                                <option value="">Chá»n...</option>
                                <option value="CÃ  phÃª">â˜• CÃ  phÃª</option>
                                <option value="TrÃ ">ğŸµ TrÃ </option>
                                <option value="Sá»¯a">ğŸ¥› Sá»¯a</option>
                                <option value="NÆ°á»›c cam">ğŸŠ NÆ°á»›c cam</option>
                                <option value="NÆ°á»›c">ğŸ’§ NÆ°á»›c</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Nghá» nghiá»‡p</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="2" data-type="job">
                                <option value="">Chá»n...</option>
                                <option value="Thá»£ má»™c">ğŸ”¨ Thá»£ má»™c</option>
                                <option value="GiÃ¡o viÃªn">ğŸ‘¨â€ğŸ« GiÃ¡o viÃªn</option>
                                <option value="LÃ m vÆ°á»n">ğŸŒ± LÃ m vÆ°á»n</option>
                                <option value="BÃ¡c sÄ©">ğŸ‘¨â€âš•ï¸ BÃ¡c sÄ©</option>
                                <option value="Thá»£ lÃ m bÃ¡nh">ğŸ‘¨â€ğŸ³ Thá»£ lÃ m bÃ¡nh</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- House 3 -->
            <div class="house bg-slate-100 rounded-lg shadow-lg p-6 border-4 border-slate-400" data-house="3">
                <div class="flex items-center gap-6">
                    <div class="text-center">
                        <div class="text-6xl mb-2 font-bold text-slate-700">3</div>
                        <div class="font-bold text-slate-800 text-lg">NhÃ  sá»‘ 3</div>
                        <div class="flex justify-center gap-2 mt-2 min-h-[32px]" id="icons-3">
                            <span class="pet-icon text-2xl" style="display: none;"></span>
                            <span class="drink-icon text-2xl" style="display: none;"></span>
                            <span class="job-icon text-2xl" style="display: none;"></span>
                        </div>
                    </div>
                    <div class="grid grid-cols-5 gap-4 flex-1">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">MÃ u sáº¯c</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="3" data-type="color">
                                <option value="">Chá»n...</option>
                                <option value="VÃ ng">ğŸŸ¡ VÃ ng</option>
                                <option value="Xanh dÆ°Æ¡ng">ğŸ”µ Xanh dÆ°Æ¡ng</option>
                                <option value="Äá»">ğŸ”´ Äá»</option>
                                <option value="Tráº¯ng">âšª Tráº¯ng</option>
                                <option value="Xanh lÃ¡">ğŸŸ¢ Xanh lÃ¡</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Quá»‘c tá»‹ch</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="3" data-type="nationality">
                                <option value="">Chá»n...</option>
                                <option value="Anh">ğŸ‡¬ğŸ‡§ Anh</option>
                                <option value="TÃ¢y Ban Nha">ğŸ‡ªğŸ‡¸ TÃ¢y Ban Nha</option>
                                <option value="Ukraine">ğŸ‡ºğŸ‡¦ Ukraine</option>
                                <option value="Na Uy">ğŸ‡³ğŸ‡´ Na Uy</option>
                                <option value="Nháº­t">ğŸ‡¯ğŸ‡µ Nháº­t</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">ThÃº cÆ°ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="3" data-type="pet">
                                <option value="">Chá»n...</option>
                                <option value="ChÃ³">ğŸ• ChÃ³</option>
                                <option value="á»c sÃªn">ğŸŒ á»c sÃªn</option>
                                <option value="CÃ¡o">ğŸ¦Š CÃ¡o</option>
                                <option value="Ngá»±a">ğŸ Ngá»±a</option>
                                <option value="Ngá»±a váº±n">ğŸ¦“ Ngá»±a váº±n</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Äá»“ uá»‘ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="3" data-type="drink">
                                <option value="">Chá»n...</option>
                                <option value="CÃ  phÃª">â˜• CÃ  phÃª</option>
                                <option value="TrÃ ">ğŸµ TrÃ </option>
                                <option value="Sá»¯a">ğŸ¥› Sá»¯a</option>
                                <option value="NÆ°á»›c cam">ğŸŠ NÆ°á»›c cam</option>
                                <option value="NÆ°á»›c">ğŸ’§ NÆ°á»›c</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Nghá» nghiá»‡p</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="3" data-type="job">
                                <option value="">Chá»n...</option>
                                <option value="Thá»£ má»™c">ğŸ”¨ Thá»£ má»™c</option>
                                <option value="GiÃ¡o viÃªn">ğŸ‘¨â€ğŸ« GiÃ¡o viÃªn</option>
                                <option value="LÃ m vÆ°á»n">ğŸŒ± LÃ m vÆ°á»n</option>
                                <option value="BÃ¡c sÄ©">ğŸ‘¨â€âš•ï¸ BÃ¡c sÄ©</option>
                                <option value="Thá»£ lÃ m bÃ¡nh">ğŸ‘¨â€ğŸ³ Thá»£ lÃ m bÃ¡nh</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- House 4 -->
            <div class="house bg-slate-100 rounded-lg shadow-lg p-6 border-4 border-slate-400" data-house="4">
                <div class="flex items-center gap-6">
                    <div class="text-center">
                        <div class="text-6xl mb-2 font-bold text-slate-700">4</div>
                        <div class="font-bold text-slate-800 text-lg">NhÃ  sá»‘ 4</div>
                        <div class="flex justify-center gap-2 mt-2 min-h-[32px]" id="icons-4">
                            <span class="pet-icon text-2xl" style="display: none;"></span>
                            <span class="drink-icon text-2xl" style="display: none;"></span>
                            <span class="job-icon text-2xl" style="display: none;"></span>
                        </div>
                    </div>
                    <div class="grid grid-cols-5 gap-4 flex-1">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">MÃ u sáº¯c</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="4" data-type="color">
                                <option value="">Chá»n...</option>
                                <option value="VÃ ng">ğŸŸ¡ VÃ ng</option>
                                <option value="Xanh dÆ°Æ¡ng">ğŸ”µ Xanh dÆ°Æ¡ng</option>
                                <option value="Äá»">ğŸ”´ Äá»</option>
                                <option value="Tráº¯ng">âšª Tráº¯ng</option>
                                <option value="Xanh lÃ¡">ğŸŸ¢ Xanh lÃ¡</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Quá»‘c tá»‹ch</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="4" data-type="nationality">
                                <option value="">Chá»n...</option>
                                <option value="Anh">ğŸ‡¬ğŸ‡§ Anh</option>
                                <option value="TÃ¢y Ban Nha">ğŸ‡ªğŸ‡¸ TÃ¢y Ban Nha</option>
                                <option value="Ukraine">ğŸ‡ºğŸ‡¦ Ukraine</option>
                                <option value="Na Uy">ğŸ‡³ğŸ‡´ Na Uy</option>
                                <option value="Nháº­t">ğŸ‡¯ğŸ‡µ Nháº­t</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">ThÃº cÆ°ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="4" data-type="pet">
                                <option value="">Chá»n...</option>
                                <option value="ChÃ³">ğŸ• ChÃ³</option>
                                <option value="á»c sÃªn">ğŸŒ á»c sÃªn</option>
                                <option value="CÃ¡o">ğŸ¦Š CÃ¡o</option>
                                <option value="Ngá»±a">ğŸ Ngá»±a</option>
                                <option value="Ngá»±a váº±n">ğŸ¦“ Ngá»±a váº±n</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Äá»“ uá»‘ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="4" data-type="drink">
                                <option value="">Chá»n...</option>
                                <option value="CÃ  phÃª">â˜• CÃ  phÃª</option>
                                <option value="TrÃ ">ğŸµ TrÃ </option>
                                <option value="Sá»¯a">ğŸ¥› Sá»¯a</option>
                                <option value="NÆ°á»›c cam">ğŸŠ NÆ°á»›c cam</option>
                                <option value="NÆ°á»›c">ğŸ’§ NÆ°á»›c</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Nghá» nghiá»‡p</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="4" data-type="job">
                                <option value="">Chá»n...</option>
                                <option value="Thá»£ má»™c">ğŸ”¨ Thá»£ má»™c</option>
                                <option value="GiÃ¡o viÃªn">ğŸ‘¨â€ğŸ« GiÃ¡o viÃªn</option>
                                <option value="LÃ m vÆ°á»n">ğŸŒ± LÃ m vÆ°á»n</option>
                                <option value="BÃ¡c sÄ©">ğŸ‘¨â€âš•ï¸ BÃ¡c sÄ©</option>
                                <option value="Thá»£ lÃ m bÃ¡nh">ğŸ‘¨â€ğŸ³ Thá»£ lÃ m bÃ¡nh</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- House 5 -->
            <div class="house bg-slate-100 rounded-lg shadow-lg p-6 border-4 border-slate-400" data-house="5">
                <div class="flex items-center gap-6">
                    <div class="text-center">
                        <div class="text-6xl mb-2 font-bold text-slate-700">5</div>
                        <div class="font-bold text-slate-800 text-lg">NhÃ  sá»‘ 5</div>
                        <div class="flex justify-center gap-2 mt-2 min-h-[32px]" id="icons-5">
                            <span class="pet-icon text-2xl" style="display: none;"></span>
                            <span class="drink-icon text-2xl" style="display: none;"></span>
                            <span class="job-icon text-2xl" style="display: none;"></span>
                        </div>
                    </div>
                    <div class="grid grid-cols-5 gap-4 flex-1">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">MÃ u sáº¯c</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="5" data-type="color">
                                <option value="">Chá»n...</option>
                                <option value="VÃ ng">ğŸŸ¡ VÃ ng</option>
                                <option value="Xanh dÆ°Æ¡ng">ğŸ”µ Xanh dÆ°Æ¡ng</option>
                                <option value="Äá»">ğŸ”´ Äá»</option>
                                <option value="Tráº¯ng">âšª Tráº¯ng</option>
                                <option value="Xanh lÃ¡">ğŸŸ¢ Xanh lÃ¡</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Quá»‘c tá»‹ch</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="5" data-type="nationality">
                                <option value="">Chá»n...</option>
                                <option value="Anh">ğŸ‡¬ğŸ‡§ Anh</option>
                                <option value="TÃ¢y Ban Nha">ğŸ‡ªğŸ‡¸ TÃ¢y Ban Nha</option>
                                <option value="Ukraine">ğŸ‡ºğŸ‡¦ Ukraine</option>
                                <option value="Na Uy">ğŸ‡³ğŸ‡´ Na Uy</option>
                                <option value="Nháº­t">ğŸ‡¯ğŸ‡µ Nháº­t</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">ThÃº cÆ°ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="5" data-type="pet">
                                <option value="">Chá»n...</option>
                                <option value="ChÃ³">ğŸ• ChÃ³</option>
                                <option value="á»c sÃªn">ğŸŒ á»c sÃªn</option>
                                <option value="CÃ¡o">ğŸ¦Š CÃ¡o</option>
                                <option value="Ngá»±a">ğŸ Ngá»±a</option>
                                <option value="Ngá»±a váº±n">ğŸ¦“ Ngá»±a váº±n</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Äá»“ uá»‘ng</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="5" data-type="drink">
                                <option value="">Chá»n...</option>
                                <option value="CÃ  phÃª">â˜• CÃ  phÃª</option>
                                <option value="TrÃ ">ğŸµ TrÃ </option>
                                <option value="Sá»¯a">ğŸ¥› Sá»¯a</option>
                                <option value="NÆ°á»›c cam">ğŸŠ NÆ°á»›c cam</option>
                                <option value="NÆ°á»›c">ğŸ’§ NÆ°á»›c</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Nghá» nghiá»‡p</label>
                            <select class="attribute-select w-full p-2 border border-slate-300 rounded-lg bg-white" data-house="5" data-type="job">
                                <option value="">Chá»n...</option>
                                <option value="Thá»£ má»™c">ğŸ”¨ Thá»£ má»™c</option>
                                <option value="GiÃ¡o viÃªn">ğŸ‘¨â€ğŸ« GiÃ¡o viÃªn</option>
                                <option value="LÃ m vÆ°á»n">ğŸŒ± LÃ m vÆ°á»n</option>
                                <option value="BÃ¡c sÄ©">ğŸ‘¨â€âš•ï¸ BÃ¡c sÄ©</option>
                                <option value="Thá»£ lÃ m bÃ¡nh">ğŸ‘¨â€ğŸ³ Thá»£ lÃ m bÃ¡nh</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Control Panel and Clues -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Control Panel -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">ğŸ® Äiá»u khiá»ƒn trÃ² chÆ¡i</h3>
                
                <div class="mt-6 flex gap-4">
                    <button id="checkSolution" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                        âœ… Kiá»ƒm tra Ä‘Ã¡p Ã¡n
                    </button>
                    <button id="resetGame" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors">
                        ğŸ”„ LÃ m láº¡i
                    </button>
                </div>
                <div id="progressInfo" class="mt-4 text-sm text-gray-600 text-center">
                    Äiá»n táº¥t cáº£ thuá»™c tÃ­nh Ä‘á»ƒ kiá»ƒm tra Ä‘Ã¡p Ã¡n (0/25)
                </div>

                <div class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-400 rounded">
                    <h4 class="font-bold text-blue-800 mb-2">ğŸ“‹ HÆ°á»›ng dáº«n:</h4>
                    <p class="text-blue-700 text-sm">â€¢ Chá»n thuá»™c tÃ­nh tá»« danh sÃ¡ch tháº£ xuá»‘ng cho má»—i ngÃ´i nhÃ </p>
                    <p class="text-blue-700 text-sm">â€¢ Má»—i thuá»™c tÃ­nh chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng má»™t láº§n</p>
                    <p class="text-blue-700 text-sm">â€¢ Sá»­ dá»¥ng cÃ¡c gá»£i Ã½ Ä‘á»ƒ tÃ¬m ra Ä‘Ã¡p Ã¡n Ä‘Ãºng</p>
                </div>
            </div>

            <!-- Clues -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">ğŸ“ Gá»£i Ã½</h3>
                <div class="space-y-2 text-sm">
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ NgÆ°á»i Anh sá»‘ng trong ngÃ´i nhÃ  mÃ u Ä‘á»</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ NgÆ°á»i TÃ¢y Ban Nha sá»Ÿ há»¯u con chÃ³</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ CÃ  phÃª Ä‘Æ°á»£c uá»‘ng trong ngÃ´i nhÃ  mÃ u xanh lÃ¡</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ NgÆ°á»i Ukraine uá»‘ng trÃ </div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ NgÃ´i nhÃ  mÃ u xanh lÃ¡ náº±m ngay phÃ­a dÆ°á»›i ngÃ´i nhÃ  mÃ u tráº¯ng</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ Thá»£ má»™c sá»Ÿ há»¯u á»‘c sÃªn</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ GiÃ¡o viÃªn sá»‘ng trong ngÃ´i nhÃ  mÃ u vÃ ng</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ Sá»¯a Ä‘Æ°á»£c uá»‘ng trong ngÃ´i nhÃ  sá»‘ 3</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ NgÆ°á»i Na Uy sá»‘ng trong ngÃ´i nhÃ  sá»‘ 1</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ NgÆ°á»i lÃ m vÆ°á»n sá»‘ng cáº¡nh ngÆ°á»i cÃ³ con cÃ¡o</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ GiÃ¡o viÃªn sá»‘ng cáº¡nh ngÃ´i nhÃ  cÃ³ nuÃ´i ngá»±a</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ BÃ¡c sÄ© uá»‘ng nÆ°á»›c cam</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ Thá»£ lÃ m bÃ¡nh lÃ  ngÆ°á»i Nháº­t</div>
                    <div class="clue p-3 bg-gray-50 rounded-lg">â€¢ NgÆ°á»i Na Uy sá»‘ng cáº¡nh ngÃ´i nhÃ  mÃ u xanh dÆ°Æ¡ng</div>
                </div>

                <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded">
                    <h4 class="font-bold text-yellow-800 mb-2">ğŸ¯ CÃ¢u há»i:</h4>
                    <p class="text-yellow-700">â€¢ Ai uá»‘ng nÆ°á»›c?</p>
                    <p class="text-yellow-700">â€¢ Ai sá»Ÿ há»¯u ngá»±a váº±n?</p>
                </div>
            </div>
        </div>

        <!-- Result Modal -->
        <div id="resultModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="bg-white rounded-lg p-8 max-w-md mx-4">
                <div id="resultContent" class="text-center">
                    <!-- Result content will be inserted here -->
                </div>
                <button id="closeModal" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold w-full transition-colors">
                    ÄÃ³ng
                </button>
            </div>
        </div>
        </div>
    </div>

    <script>
        // Game variables
        let playerName = '';
        let startTime = null;
        let timerInterval = null;
        let usedItems = {
            color: new Set(),
            nationality: new Set(),
            pet: new Set(),
            drink: new Set(),
            job: new Set()
        };

        // Game state - using house number as identifier
        let gameState = {
            "1": {color: null, nationality: null, pet: null, drink: null, job: null},
            "2": {color: null, nationality: null, pet: null, drink: null, job: null},
            "3": {color: null, nationality: null, pet: null, drink: null, job: null},
            "4": {color: null, nationality: null, pet: null, drink: null, job: null},
            "5": {color: null, nationality: null, pet: null, drink: null, job: null}
        };

        // Correct solution - using house number as identifier
        const correctSolution = {
            "1": {color: "VÃ ng", nationality: "Na Uy", pet: "CÃ¡o", drink: "NÆ°á»›c", job: "GiÃ¡o viÃªn"},
            "2": {color: "Xanh dÆ°Æ¡ng", nationality: "Ukraine", pet: "Ngá»±a", drink: "TrÃ ", job: "LÃ m vÆ°á»n"},
            "3": {color: "Äá»", nationality: "Anh", pet: "á»c sÃªn", drink: "Sá»¯a", job: "Thá»£ má»™c"},
            "4": {color: "Tráº¯ng", nationality: "TÃ¢y Ban Nha", pet: "ChÃ³", drink: "NÆ°á»›c cam", job: "BÃ¡c sÄ©"},
            "5": {color: "Xanh lÃ¡", nationality: "Nháº­t", pet: "Ngá»±a váº±n", drink: "CÃ  phÃª", job: "Thá»£ lÃ m bÃ¡nh"}
        };

        // Login functionality
        const playerNameInput = document.getElementById('playerName');
        const startGameBtn = document.getElementById('startGame');
        const loginScreen = document.getElementById('loginScreen');
        const gameScreen = document.getElementById('gameScreen');
        const playerNameDisplay = document.getElementById('playerNameDisplay');
        const timerDisplay = document.getElementById('timer');

        playerNameInput.addEventListener('input', function() {
            startGameBtn.disabled = this.value.trim().length === 0;
        });

        playerNameInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !startGameBtn.disabled) {
                startGameFunction();
            }
        });

        startGameBtn.addEventListener('click', startGameFunction);

        function startGameFunction() {
            playerName = playerNameInput.value.trim();
            if (playerName) {
                playerNameDisplay.textContent = playerName;
                loginScreen.classList.add('hidden');
                gameScreen.classList.remove('hidden');
                startTimer();
            }
        }

        function startTimer() {
            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }

        function getElapsedTime() {
            if (startTime) {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            return '00:00';
        }

        // Dropdown functionality
        document.querySelectorAll('.attribute-select').forEach(select => {
            select.addEventListener('change', function() {
                const house = this.dataset.house;
                const type = this.dataset.type;
                const newValue = this.value;
                const oldValue = gameState[house][type];

                // If there was an old value, remove it from used items
                if (oldValue) {
                    usedItems[type].delete(oldValue);
                }

                // If new value is selected, add it to used items
                if (newValue) {
                    usedItems[type].add(newValue);
                }

                // Update game state
                gameState[house][type] = newValue || null;

                // Update house color if color attribute changed
                if (type === 'color') {
                    updateHouseColor(house, newValue);
                }

                // Update house flag if nationality attribute changed
                if (type === 'nationality') {
                    updateHouseFlag(house, newValue);
                }

                // Update house icons for pet, drink, job
                if (type === 'pet' || type === 'drink' || type === 'job') {
                    updateHouseIcons(house, type, newValue);
                }

                // Update all dropdowns to reflect used items
                updateDropdownOptions();
                updateProgress();
            });
        });

        function updateHouseColor(houseNumber, color) {
            const houseElement = document.querySelector(`[data-house="${houseNumber}"]`);
            
            // Reset to default color first
            houseElement.className = 'house bg-slate-100 rounded-lg shadow-lg p-6 border-4 border-slate-400';
            
            // Apply new color if selected
            if (color) {
                switch(color) {
                    case 'VÃ ng':
                        houseElement.className = 'house bg-yellow-100 rounded-lg shadow-lg p-6 border-4 border-yellow-400';
                        break;
                    case 'Xanh dÆ°Æ¡ng':
                        houseElement.className = 'house bg-blue-100 rounded-lg shadow-lg p-6 border-4 border-blue-400';
                        break;
                    case 'Äá»':
                        houseElement.className = 'house bg-red-100 rounded-lg shadow-lg p-6 border-4 border-red-400';
                        break;
                    case 'Tráº¯ng':
                        houseElement.className = 'house bg-gray-50 rounded-lg shadow-lg p-6 border-4 border-gray-300';
                        break;
                    case 'Xanh lÃ¡':
                        houseElement.className = 'house bg-green-100 rounded-lg shadow-lg p-6 border-4 border-green-400';
                        break;
                }
            }
        }

        function updateHouseFlag(houseNumber, nationality) {
            const houseNumberElement = document.querySelector(`[data-house="${houseNumber}"] .text-6xl`);
            
            // Reset to default number first
            houseNumberElement.innerHTML = houseNumber;
            houseNumberElement.className = 'text-6xl mb-2 font-bold text-slate-700';
            
            // Apply flag image if nationality is selected
            if (nationality) {
                let flagSvg = '';
                switch(nationality) {
                    case 'Anh':
                        flagSvg = `<svg class="w-16 h-12 mx-auto" viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg">
                            <rect width="60" height="30" fill="#012169"/>
                            <g stroke="#fff" stroke-width="6">
                                <path d="m0,0 60,30 m0,-30 -60,30"/>
                            </g>
                            <g stroke="#C8102E" stroke-width="4">
                                <path d="m0,0 60,30 m0,-30 -60,30"/>
                            </g>
                            <path stroke="#fff" stroke-width="10" d="M30,0 v30 M0,15 h60"/>
                            <path stroke="#C8102E" stroke-width="6" d="M30,0 v30 M0,15 h60"/>
                        </svg>`;
                        break;
                    case 'TÃ¢y Ban Nha':
                        flagSvg = `<svg class="w-16 h-12 mx-auto" viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg">
                            <rect width="60" height="30" fill="#AA151B"/>
                            <rect width="60" height="15" y="7.5" fill="#F1BF00"/>
                        </svg>`;
                        break;
                    case 'Ukraine':
                        flagSvg = `<svg class="w-16 h-12 mx-auto" viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg">
                            <rect width="60" height="15" fill="#005BBB"/>
                            <rect width="60" height="15" y="15" fill="#FFD500"/>
                        </svg>`;
                        break;
                    case 'Na Uy':
                        flagSvg = `<svg class="w-16 h-12 mx-auto" viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg">
                            <rect width="60" height="30" fill="#BA0C2F"/>
                            <rect width="60" height="6" y="12" fill="#fff"/>
                            <rect width="6" height="30" x="18" fill="#fff"/>
                            <rect width="60" height="2" y="14" fill="#00205B"/>
                            <rect width="2" height="30" x="20" fill="#00205B"/>
                        </svg>`;
                        break;
                    case 'Nháº­t':
                        flagSvg = `<svg class="w-16 h-12 mx-auto" viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg">
                            <rect width="60" height="30" fill="#fff"/>
                            <circle cx="30" cy="15" r="9" fill="#BC002D"/>
                        </svg>`;
                        break;
                }
                houseNumberElement.innerHTML = flagSvg;
                houseNumberElement.className = 'mb-2 flex justify-center items-center';
            }
        }

        function updateHouseIcons(houseNumber, type, value) {
            const iconsContainer = document.getElementById(`icons-${houseNumber}`);
            let iconElement;
            
            if (type === 'pet') {
                iconElement = iconsContainer.querySelector('.pet-icon');
            } else if (type === 'drink') {
                iconElement = iconsContainer.querySelector('.drink-icon');
            } else if (type === 'job') {
                iconElement = iconsContainer.querySelector('.job-icon');
            }
            
            if (!iconElement) return;
            
            // Hide icon if no value selected
            if (!value) {
                iconElement.style.display = 'none';
                iconElement.textContent = '';
                return;
            }
            
            // Show and update icon based on value
            iconElement.style.display = 'inline-block';
            
            let icon = '';
            switch(value) {
                // Pet icons
                case 'ChÃ³': icon = 'ğŸ•'; break;
                case 'á»c sÃªn': icon = 'ğŸŒ'; break;
                case 'CÃ¡o': icon = 'ğŸ¦Š'; break;
                case 'Ngá»±a': icon = 'ğŸ'; break;
                case 'Ngá»±a váº±n': icon = 'ğŸ¦“'; break;
                
                // Drink icons
                case 'CÃ  phÃª': icon = 'â˜•'; break;
                case 'TrÃ ': icon = 'ğŸµ'; break;
                case 'Sá»¯a': icon = 'ğŸ¥›'; break;
                case 'NÆ°á»›c cam': icon = 'ğŸŠ'; break;
                case 'NÆ°á»›c': icon = 'ğŸ’§'; break;
                
                // Job icons
                case 'Thá»£ má»™c': icon = 'ğŸ”¨'; break;
                case 'GiÃ¡o viÃªn': icon = 'ğŸ‘¨â€ğŸ«'; break;
                case 'LÃ m vÆ°á»n': icon = 'ğŸŒ±'; break;
                case 'BÃ¡c sÄ©': icon = 'ğŸ‘¨â€âš•ï¸'; break;
                case 'Thá»£ lÃ m bÃ¡nh': icon = 'ğŸ‘¨â€ğŸ³'; break;
                
                default: icon = '';
            }
            
            iconElement.textContent = icon;
        }

        function updateDropdownOptions() {
            document.querySelectorAll('.attribute-select').forEach(select => {
                const type = select.dataset.type;
                const house = select.dataset.house;
                const currentValue = gameState[house][type];

                // Update options availability
                Array.from(select.options).forEach(option => {
                    if (option.value === '') return; // Skip empty option
                    
                    if (usedItems[type].has(option.value) && option.value !== currentValue) {
                        option.disabled = true;
                        option.style.color = '#9ca3af';
                    } else {
                        option.disabled = false;
                        option.style.color = '';
                    }
                });
            });
        }

        function updateGameState() {
            // Game state is already updated in the dropdown change handler
            // Just update progress
            updateProgress();
        }

        function updateProgress() {
            let filledSlots = 0;
            const totalSlots = 25; // 5 houses Ã— 5 attributes each

            for (let house in gameState) {
                for (let type in gameState[house]) {
                    if (gameState[house][type] !== null) {
                        filledSlots++;
                    }
                }
            }

            const progressInfo = document.getElementById('progressInfo');
            const checkButton = document.getElementById('checkSolution');
            
            progressInfo.textContent = `Äiá»n táº¥t cáº£ thuá»™c tÃ­nh Ä‘á»ƒ kiá»ƒm tra Ä‘Ã¡p Ã¡n (${filledSlots}/${totalSlots})`;
            
            if (filledSlots === totalSlots) {
                checkButton.disabled = false;
                progressInfo.textContent = `ÄÃ£ Ä‘iá»n Ä‘á»§! Nháº¥n kiá»ƒm tra Ä‘Ã¡p Ã¡n (${filledSlots}/${totalSlots})`;
                progressInfo.classList.add('text-green-600', 'font-semibold');
                progressInfo.classList.remove('text-gray-600');
            } else {
                checkButton.disabled = true;
                progressInfo.classList.remove('text-green-600', 'font-semibold');
                progressInfo.classList.add('text-gray-600');
            }
        }

        function checkSolution() {
            let correct = true;
            let correctCount = 0;
            let totalSlots = 25;

            for (let house in correctSolution) {
                for (let type in correctSolution[house]) {
                    if (gameState[house][type] === correctSolution[house][type]) {
                        correctCount++;
                    } else {
                        correct = false;
                    }
                }
            }

            const modal = document.getElementById('resultModal');
            const content = document.getElementById('resultContent');

            if (correctCount === totalSlots && correct) {
                stopTimer();
                const completionTime = getElapsedTime();
                content.innerHTML = `
                    <div class="text-6xl mb-4">ğŸ‰</div>
                    <h3 class="text-2xl font-bold text-green-600 mb-2">ChÃºc má»«ng ${playerName}!</h3>
                    <p class="text-gray-700 mb-2">Báº¡n Ä‘Ã£ giáº£i Ä‘Ãºng cÃ¢u Ä‘á»‘ Einstein!</p>
                    <p class="text-lg font-semibold text-blue-600 mb-4">â±ï¸ Thá»i gian hoÃ n thÃ nh: ${completionTime}</p>
                    <div class="bg-green-50 p-4 rounded-lg">
                        <p class="font-semibold text-green-800">ÄÃ¡p Ã¡n:</p>
                        <p class="text-green-700">â€¢ NgÆ°á»i Na Uy (nhÃ  sá»‘ 1) uá»‘ng nÆ°á»›c</p>
                        <p class="text-green-700">â€¢ NgÆ°á»i Nháº­t (nhÃ  sá»‘ 5) sá»Ÿ há»¯u ngá»±a váº±n</p>
                    </div>
                `;
            } else {
                content.innerHTML = `
                    <div class="text-6xl mb-4">ğŸ¤”</div>
                    <h3 class="text-2xl font-bold text-orange-600 mb-2">ChÆ°a Ä‘Ãºng!</h3>
                    <p class="text-gray-700 mb-2">Báº¡n Ä‘Ã£ Ä‘iá»n Ä‘Ãºng ${correctCount}/${totalSlots} thuá»™c tÃ­nh.</p>
                    <p class="text-gray-600">HÃ£y kiá»ƒm tra láº¡i cÃ¡c gá»£i Ã½ vÃ  thá»­ láº¡i!</p>
                `;
            }

            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }



        function resetGame() {
            // Reset all dropdowns
            document.querySelectorAll('.attribute-select').forEach(select => {
                select.value = '';
            });

            // Reset game state
            for (let house in gameState) {
                for (let type in gameState[house]) {
                    gameState[house][type] = null;
                }
            }

            // Reset used items
            for (let type in usedItems) {
                usedItems[type].clear();
            }

            // Reset all house colors, flags, and icons to default
            for (let i = 1; i <= 5; i++) {
                updateHouseColor(i.toString(), null);
                updateHouseFlag(i.toString(), null);
                // Reset icons
                updateHouseIcons(i.toString(), 'pet', null);
                updateHouseIcons(i.toString(), 'drink', null);
                updateHouseIcons(i.toString(), 'job', null);
            }

            updateDropdownOptions();
            updateGameState();
        }

        // Event listeners
        document.getElementById('checkSolution').addEventListener('click', checkSolution);
        document.getElementById('resetGame').addEventListener('click', resetGame);
        document.getElementById('closeModal').addEventListener('click', function() {
            document.getElementById('resultModal').classList.add('hidden');
            document.getElementById('resultModal').classList.remove('flex');
        });

        // Close modal when clicking outside
        document.getElementById('resultModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
                this.classList.remove('flex');
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9716efa25585e60e',t:'MTc1NTU3ODA0MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
